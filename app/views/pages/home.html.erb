<h1>Space Y</h1>
<p>Space Y is a space travel market that offers spaceships for rent.</p>

<!-- [.ACTIVE RECORD - SEARCH FORM.] -->
<div class="container">
  <%= form_with url: root_path, method: :get, class: "d-flex" do %>
    <%= text_field_tag :query,
      params[:query],
      class: "form-control",
      placeholder: "Find a spaceship"
    %>
    <%= submit_tag "Search", class: "btn btn-primary" %>
  <% end %>
</div>

<div class="row">
  <div class="col-6">
    <h3>Our Spaceships for rent</h3>
    <%= cl_image_tag("iwuiil5jpr90okggew9i",
      width: 400, height: 300, crop: :fill)
    %>
    <% @spaceships.each do |spaceship| %>
      <p><%= spaceship.image %></p>
      <h4><%= link_to spaceship.name, spaceship_path(spaceship) %></h4>
      <%# Verifier si image du spaceship est prÃ©sente et l'afficher, sinon rien %>
      <%# Method .attached? not working need, to check  %>
        <%# <% if spaceship.image.attached? %>
          <%# <%= cl_image_tag spaceship.image.key, height: 200, width: 200, crop: :fill %>
        <%# <% end %>
    <% end %>
  </div>
  <div class="col-6">
    <%# Mapbox %>
    <div style="width: 100%; height: 600px;"
      data-controller="map"
      data-map-markers-value="<%= @markers.to_json %>"
      data-map-api-key-value="<%= ENV["MAPBOX_API_KEY"] %>">
    </div>
  </div>
</div>
